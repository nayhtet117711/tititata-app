[{"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\index.js":"1","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\reportWebVitals.js":"2","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\App.js":"3","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\components\\Layout.js":"4","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\components\\EntranceModal.js":"5","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\redux\\reduxStore.js":"6","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\components\\SideBar.js":"7","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\redux\\actions.js":"8","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\socketClient.js":"9","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\components\\MainMessageArea.js":"10","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\redux\\userReducer.js":"11","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\redux\\actionTypes.js":"12","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\config\\index.js":"13","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\config\\api.js":"14"},{"size":553,"mtime":1610009740919,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1610009740921,"results":"17","hashOfConfig":"16"},{"size":847,"mtime":1610009740917,"results":"18","hashOfConfig":"16"},{"size":4799,"mtime":1612022563264,"results":"19","hashOfConfig":"16"},{"size":2232,"mtime":1611914888846,"results":"20","hashOfConfig":"16"},{"size":161,"mtime":1610009740920,"results":"21","hashOfConfig":"16"},{"size":3886,"mtime":1612022534018,"results":"22","hashOfConfig":"16"},{"size":735,"mtime":1612018903183,"results":"23","hashOfConfig":"16"},{"size":1383,"mtime":1610009740921,"results":"24","hashOfConfig":"16"},{"size":8257,"mtime":1611842503260,"results":"25","hashOfConfig":"16"},{"size":987,"mtime":1612018886610,"results":"26","hashOfConfig":"16"},{"size":242,"mtime":1612018920347,"results":"27","hashOfConfig":"16"},{"size":57,"mtime":1610009740919,"results":"28","hashOfConfig":"16"},{"size":154,"mtime":1610009740918,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"11bgpnu",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"32"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\index.js",[],["63","64"],"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\reportWebVitals.js",[],"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\App.js",[],"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\components\\Layout.js",["65"],"import React, { Component } from \"react\"\nimport SideBar from \"./SideBar\"\nimport MainMessageArea from \"./MainMessageArea\"\nimport { withRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\"\nimport { setMyInfo, setActiveUsers, setMessages } from \"../redux/actions\"\nimport socket from \"../socketClient\"\n\nclass Layout extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tpage: { width: 800, height: 800 }\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tsocket.doConnect(this.props.displayName)\n\n\t\twindow.onresize = (e) => {\n            this.responsiveHandler(e.target)\n\t\t}\n\t\tthis.responsiveHandler(window)\n\n\t\tthis.handleSocketClient()\n\n\t\tsetTimeout(this.listeningMessages, 10)\n\t}\n\n\tlisteningMessages = () => {\n\t\tsocket.on(\"priv-msg\", data => {\n\t\t\tif(data.from===this.props.myInfo.socketId) {\n\t\t\t\tthis.props.setMessages([...this.props.messages, {...data, type: \"sent\"}])\n\t\t\t\t// this.setState(prev=> ({ messages: [...prev.messages, {...data, type: \"sent\"}] }))\n\t\t\t\t// const audio = new window.Audio(\"https://proxy.notificationsounds.com/notification-sounds/clearly-602/download/file-sounds-1143-clearly.mp3\");\n\t\t\t\t// audio.volume = 0.1;\n\t\t\t\t// audio.play();\n\t\t\t} else if(data.to===this.props.myInfo.socketId) {\n\t\t\t\t//console.log(\"message: \", [...this.props.messages, {...data, type: \"received\"}])\n\t\t\t\tthis.props.setMessages([...this.props.messages, {...data, type: \"received\"}])\n\t\t\t\t// this.setState(prev=> ({ messages: [...prev.messages, {...data, type: \"received\"}] }))\n\t\t\t\tconst audio = new window.Audio(\"https://proxy.notificationsounds.com/message-tones/pristine-609/download/file-sounds-1150-pristine.mp3\");\n\t\t\t\taudio.volume = 0.5;\n\t\t\t\taudio.play();\n\n\t\t\t\tif(data.from !== this.props.selectedUser){\n\t\t\t\t\tconst i = this.props.activeUsers.findIndex(v=> v.socketId == data.from)\n\t\t\t\t\tlet newArr = [...this.props.activeUsers]\n\t\t\t\t\tnewArr[i].isRead = false\n\t\t\t\t\tthis.props.setActiveUsers(newArr)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tcomponentWillUnmount() {\n\t\tsocket.doDisconnect()\n\t}\n\n\thandleSocketClient() {\n\t\t// socket.onConnect((socketId) => {\n\t\t// \tconsole.log(socketId)\n\t\t// })\n\t\tsocket.on(\"user-list-updated\", d => {\n\t\t\t// console.log(\"user-list-updated \", d.userList)\n\t\t\tconst userList = this.props.myInfo ? d.userList.filter(v => v.socketId!==this.props.myInfo.socketId) : d.userList\n\t\t\t\n\t\t\tconst newUserList = userList.map(v=>(\n\t\t\t\t{...v,\n\t\t\t\tisRead: true}\n\t\t\t))\n\t\t\tthis.props.setActiveUsers(newUserList)\n\t\t\t\n\t\t})\n\t\tsocket.on(\"welcome-my-info\", d => {\n\t\t\tthis.props.setMyInfo(d.myInfo)\n\t\t})\n\t}\n\n\tresponsiveHandler = (window) => {\n\t\tthis.setState({ page: { width: window.innerWidth, height: window.innerHeight } })\n\t}\n\n\trender() {\n\t\t\n\t\tconst widthPercent = this.state.page.width>=3840 ? \"40%\" \n\t\t\t: this.state.page.width>= 2160 ? \"60%\" \n\t\t\t: this.state.page.width>= 1920 ? \"75%\" \n\t\t\t: this.state.page.width>= 1366 ? \"85%\"\n\t\t\t: this.state.page.width>= 1125 ? \"95%\" \n\t\t\t: \"100%\"\n\n\t\tif(!socket) return \"Connecting..\"\n\t\treturn (\n\t\t\t<div className=\"bg-secondary d-flex justify-content-center\" style={{ height: \"100vh\", padding: 0 }}>\n\t\t\t\t<div className=\"d-flex border shadow\" style={{ height: \"100%\", width: widthPercent, }}>\n\t\t\t\t\t{/* <SideBar className=\"bg-light\" style={{ minWidth: 320, borderRight: '1px solid lightgray' }} page={this.state.page} /> */}\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path={`/:userId`}>\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<SideBar className=\"bg-light\" style={{ width: this.state.page.width>=1000 ? 280 : !this.props.menuShow ? this.state.page.width-60 : 0, borderRight: '1px solid lightgray' }} page={this.state.page} />\n\t\t\t\t\t\t\t\t<MainMessageArea className=\"bg-white flex-fill\" page={this.state.page} style={{ width: this.state.page.width>=1000 ? undefined: 60 }} />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path={`/`}>\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<SideBar className=\"bg-light\" style={{ width: this.state.page.width>=1000 ? 320 : \"100%\", borderRight: '1px solid lightgray' }} page={this.state.page} />\n\t\t\t\t\t\t\t\t{this.state.page.width>=1000 && <EmptyUserArea />}\n\t\t\t\t\t\t\t</>\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nconst EmptyUserArea = () => {\n\treturn (\n\t\t<div className=\"flex-fill d-flex align-items-center justify-content-center bg-white\">\n\t\t\t<div className=\"\">\n\t\t\t\t<div className=\"h4 text-secondary text-center\">Send your Titi Tata to your friends</div>\n\t\t\t\t<div className=\"h5 text-secondary text-center\">Select the user from the left menu to start messaging!</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default withRouter(connect( \n\t\tstate => ({ \n\t\t\tactiveUsers: state.userReducer.activeUsers,\n\t\t\tmyInfo: state.userReducer.myInfo,\n\t\t\tmessages: state.userReducer.messages,\n\t\t\tmenuShow: state.userReducer.menuShow,\n\t\t\tselectedUser: state.userReducer.selectedUser\n\t\t}), \n\t\t{ setMyInfo, setActiveUsers, setMessages }\n\t)\n\t(Layout));\n","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\components\\EntranceModal.js",[],"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\redux\\reduxStore.js",[],"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\components\\SideBar.js",["66"],"import React, { Component } from \"react\"\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport { withRouter } from \"react-router-dom\"\nimport { connect } from \"react-redux\";\nimport { setSelectedUser, setMenuShow, setActiveUsers } from \"../redux/actions\"\nimport config from \"../config\"\nimport moment from \"moment\"\n\nclass SideBar extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\n\t\t}\n\t}\n\n\tnavigateToMessage = (user) => {\n\t\tthis.props.setMenuShow(true)\n\t\tthis.props.setSelectedUser(user)\n\t\tthis.props.history.replace({ pathname: \"/\" + user.socketId, })\n\n\t\tconst i = this.props.activeUsers.findIndex(v => v.socketId == user.socketId)\n\t\tlet newArr = [...this.props.activeUsers]\n\t\tnewArr[i].isRead = true\n\t\tthis.props.setActiveUsers(newArr)\n\t}\n\n\trender() {\n\t\tconst userListView = this.props.activeUsers && this.props.activeUsers.map(v => (\n\t\t\t<UserItem\n\t\t\t\tmatch={this.props.match}\n\t\t\t\tkey={v.socketId}\n\t\t\t\tuser={v}\n\t\t\t\tlatestMessage={this.props.messages.reduce((r, c) => (c.ts > r.ts && (v.socketId === c.from || v.socketId === c.to)) ? c : r, { ts: 0, text: \"No message yet!\" })}\n\t\t\t\tonClick={() => this.navigateToMessage(v)}\n\t\t\t/>\n\t\t))\n\t\treturn (\n\t\t\t<div className={\"\" + this.props.className} style={{ ...this.props.style }} id=\"sidebar-17\">\n\t\t\t\t<div className=\"d-flex align-items-center \" style={{ backgroundColor: \"#c5dec5\", height: 60, boxShadow: \"0rem 0.065rem 0.12rem lightgray\", marginBottom: 1 }}>\n\t\t\t\t\t{this.props.myInfo && <Header myInfo={this.props.myInfo} />}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"d-flex flex-column\" style={{ height: this.props.page.height - 80 }}>\n\t\t\t\t\t<PerfectScrollbar >\n\t\t\t\t\t\t{userListView}\n\t\t\t\t\t</PerfectScrollbar>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nconst Header = ({ myInfo }) => {\n\treturn (\n\t\t<div className=\"d-flex\" style={{ height: 58, cursor: \"default\" }}>\n\t\t\t<div className=\"d-flex align-items-center justify-content-center ps-3\">\n\t\t\t\t<img src={config.api.API + myInfo.avatarUrl} className=\"img-thumbnail rounded-circle p-0 avatar-img-2\" alt={\"user-avatar\"} />\n\t\t\t</div>\n\t\t\t<div className=\"d-flex flex-column justify-content-center flex-fill ps-2\" style={{}}>\n\t\t\t\t<div className=\"\" style={{ fontSize: \"1.1em\" }}>{myInfo.displayName}</div>\n\t\t\t\t{/* <div className=\"text-secondary\" style={{ fontSize: \"0.9em\" }}>{latestMessage}</div> */}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst UserItem = ({ user, latestMessage, onClick = () => null, match }) => {\n\treturn (\n\t\t<div className={\"d-flex bg-white user-item \" + (match.params.userId === user.socketId ? \"user-item-selected\" : \"\")} title={latestMessage} style={{ height: 70, cursor: \"pointer\" }} onClick={onClick}>\n\t\t\t<div className=\"d-flex align-items-center justify-content-center ps-3\">\n\t\t\t\t<img src={config.api.API + user.avatarUrl} className=\"img-thumbnail rounded-circle p-0 avatar-img-1\" alt={user.socketId} />\n\t\t\t</div>\n\t\t\t<div className=\"d-flex flex-column justify-content-center flex-fill\" style={{ marginLeft: -30, paddingLeft: 42, borderBottom: \"1px solid #efefef\" }}>\n\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t<div className={`${!user.isRead && 'font-weight-bold'}`} style={{ fontSize: \"1em\" }}>{user.displayName}</div>\n\t\t\t\t\t{latestMessage.ts > 0 && <div className={`text-end text-secondary px-1`} style={{ fontSize: \"0.8em\" }}>{moment(latestMessage.ts).format(\"LT\")}</div>}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t<div className={`${!user.isRead && 'fw-bold'} text-secondary ellipsis`} style={{ fontSize: \"0.9em\" }}>{latestMessage.text}</div>\n\t\t\t\t\t{!user.isRead && <i className=\"fa fa-circle fa-sm text-end px-1 pt-1\" style={{color: '#8DD18D'}} aria-hidden=\"true\"></i>}\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default withRouter(connect(\n\tstate => ({\n\t\tactiveUsers: state.userReducer.activeUsers,\n\t\tmyInfo: state.userReducer.myInfo,\n\t\tmessages: state.userReducer.messages\n\t}),\n\t{ setSelectedUser, setMenuShow, setActiveUsers }\n)(SideBar))\n","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\redux\\actions.js",[],"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\socketClient.js",[],"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\components\\MainMessageArea.js",[],"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\redux\\userReducer.js",[],"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\redux\\actionTypes.js",[],"D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\config\\index.js",["67"],"const api = require(\"./api\")\n\nexport default {\n    api,\n}","D:\\MyReact\\tititata\\tititata-app\\web-server\\src\\config\\api.js",[],["68","69"],{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","severity":1,"message":"75","line":47,"column":64,"nodeType":"76","messageId":"77","endLine":47,"endColumn":66},{"ruleId":"74","severity":1,"message":"75","line":22,"column":62,"nodeType":"76","messageId":"77","endLine":22,"endColumn":64},{"ruleId":"78","severity":1,"message":"79","line":3,"column":1,"nodeType":"80","endLine":5,"endColumn":2},{"ruleId":"70","replacedBy":"81"},{"ruleId":"72","replacedBy":"82"},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration",["83"],["84"],"no-global-assign","no-unsafe-negation"]